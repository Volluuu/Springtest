<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!--Web Storage : 클라이언트의 브라우저에 소량의 데이타를 저장해두기 위한 기억 공간
    (자바의 쿠키과 비슷)
    localStorage : 반영구적 보관 크기는 약 5mb
    sessionStorage : 세션이 유효한 만큼만 보관
    -->
    <h2 class="alert alert-info" style="width: 800px">
      HTML5 Web Storage 공부
    </h2>
    <h2 class="alert alert-danger" style="width: 800px">
      LocalStorage에 저장하기
    </h2>
    <br />
    <button
      type="button"
      class="btn btn-outline-success"
      id="btnadd"
      style="width: 100px"
    >
      저장</button
    ><br />
    <button
      type="button"
      class="btn btn-outline-info"
      id="btndel"
      style="width: 100px"
    >
      삭제</button
    ><br />
    <button
      type="button"
      class="btn btn-outline-danger"
      id="btnalldel"
      style="width: 100px"
    >
      전체삭제</button
    ><br />
    <button
      type="button"
      class="btn btn-outline-warning"
      id="btnview"
      style="width: 100px"
    >
      내용보기</button
    ><br />
    <br /><br />
    <div id="view">출력</div>

    <script>
      document.getElementById("btnadd").onclick = function () {
        //localStorage에 데이터를 저장하는 방법 3가지
        //브라우져가 닫혀도, 컴퓨터를 꺼도 남아있음.(직접 제거해야함)
        localStorage.setItem("id", "angel"); //id는 name, angel은 value
        localStorage.search = "자바"; //search는 name, 자바는 value
        localStorage["addr"] = "강남구"; //addr는 name, 강남구는 value

        //sessionStorage에도 저장(브라우져가 닫히면 자동 삭제됨)
        sessionStorage.name = "홍길동";
      };
      document.getElementById("btndel").onclick = function () {
        //addr을 지워보자(key값으로 지우면 삭제됨)
        localStorage.removeItem("addr");
      };
      document.getElementById("btnalldel").onclick = function () {
        localStorage.clear();
      };
      document.getElementById("btnview").onclick = function () {
        var s = "localStorage에 저장된 값들<br>";
        s += "id:" + localStorage.getItem("id") + "<br>";
        s += "search:" + localStorage.search + "<br>";
        s += "addr:" + localStorage["addr"] + "<hr>";
        s += "sessionStroage의 name<br>";
        s += "name" + sessionStorage.name;

        document.getElementById("view").innerHTML = s;
      };
    </script>
  </body>
</html>
